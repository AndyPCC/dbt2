# Makefile.in
# 31 October 2002

include ../make.common

OBJS =				driver.so input_data_generator.so
COMMON_OBJS =		$(TOPDIR)/common/common.so \
					$(TOPDIR)/common/logging.so \
					$(TOPDIR)/common/_socket.so \
					$(TOPDIR)/common/client_interface.so \
					$(TOPDIR)/common/transaction_data.so

all: driver $(OBJS)

driver.so: $(INCLUDEDIR)/common.h $(INCLUDEDIR)/driver.h 

input_data_generator.so: $(INCLUDEDIR)/common.h \
	$(INCLUDEDIR)/transaction_data.h $(INCLUDEDIR)/input_data_generator.h

driver: ../common.mk Makefile main.c $(OBJS) $(COMMON_OBJS)
	$(CC) $(CFLAGS) main.c -o $@ $(OBJS) $(COMMON_OBJS) $(LDFLAGS)

clean: 
	rm -f driver $(OBJS)

# Makefile.in
# 31 October 2002

include ../make.common

OBJS =		transaction_queue.so listener.so db_threadpool.so
COMMON_OBJS =	$(TOPDIR)/common/common.so \
		$(TOPDIR)/common/logging.so \
		$(TOPDIR)/common/_socket.so \
		$(TOPDIR)/common/client_interface.so \
		$(TOPDIR)/common/transaction_data.so
INTERFACE_OBJS =	$(TOPDIR)/interfaces/db.so $(DB_OBJS) 

all: $(OBJS) client

client: Makefile main.c ../make.common $(OBJS) $(COMMON_OBJS) \
	$(INTERFACE_OBJS)
	$(CC) $(CFLAGS) main.c -o $@ $(OBJS) $(COMMON_OBJS) \
		$(INTERFACE_OBJS) $(LDFLAGS)

db_threadpool.so: $(INCLUDEDIR)/db_threadpool.h

listener.so: $(INCLUDEDIR)/listener.h

transaction_queue.so: $(INCLUDEDIR)/transaction_queue.h

clean: 
	rm -f client $(OBJS) *.log 
